<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- displays site properly based on user's device -->

    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />

    <title>Frontend Mentor | Interactive rating component</title>
    <!-- CSS Reset -->
    <link rel="stylesheet" href="reset.css" />
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Overpass:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main>
      <article class="card">
        <div class="rating-state">
          <img
            class="card__icon"
            src="./images/icon-star.svg"
            alt="Image of a star."
          />
          <h1 class="card__title">How did we do?</h1>
          <p class="card__description">
            Please let us know how we did with your support request. All
            feedback is appreciated to help us improve our offering!
          </p>
          <div class="card__option-group">
            <div class="card__option">1</div>
            <div class="card__option">2</div>
            <div class="card__option">3</div>
            <div class="card__option">4</div>
            <div class="card__option">5</div>
          </div>
          <button class="button">Submit</button>
        </div>

        <!-- Thank You State Begins -->
        <div class="thank-you-state hidden">
          <img
            src="./images/illustration-thank-you.svg"
            alt="Thank you illustration involving a phone with a credit card."
          />
          <p class="card__rating">
            You selected <span class="selected-rating"></span> out of 5
          </p>
          <h1 class="card__title">Thank you!</h1>
          <p class="card__description">
            We appreciate you taking the time to give a rating. If you ever need
            more support, donâ€™t hesitate to get in touch!
          </p>
        </div>
      </article>
    </main>

    <!-- <div class="attribution">
      Challenge by
      <a href="https://www.frontendmentor.io?ref=challenge" target="_blank"
        >Frontend Mentor</a
      >. Coded by <a href="#">Your Name Here</a>.
    </div> -->
  </body>

  <script>
    let selectedRating;
    const ratingOptions = document.querySelectorAll(".card__option");
    const submitButton = document.querySelector("button");
    const selectedRatingSpan = document.querySelector(".selected-rating");

    const ratingState = document.querySelector(".rating-state");
    const thankYouState = document.querySelector(".thank-you-state");

    ratingOptions.forEach((option) => {
      option.addEventListener("click", () => {
        if (typeof selectedRating !== "undefined") {
          selectedRating.classList.remove("selected-option");
        }
        selectedRating = option;
        option.classList.add("selected-option");
      });
    });

    submitButton.addEventListener("click", (event) => {
      event.preventDefault();
      if (typeof selectedRating === "undefined") {
        alert("Please select a rating number out of five.");
      } else {
        selectedRatingSpan.innerText = selectedRating.innerText;
        ratingState.classList.add("hidden");
        thankYouState.classList.remove("hidden");
      }
    });
  </script>
</html>
